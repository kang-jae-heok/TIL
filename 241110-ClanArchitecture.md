### 클린 아키텍처

#### 아키텍처 특징
- 프레임워크 독립성: 프레임워크의 존재 여부에 의존하지 않는다
- 테스트 용이성: 업무 규칙은 UI, 데이터베이스, 웹 서버 또는 여타 외부 요소가 없이도 테스트 할 수 있어야 한다
- UI 독립성: 시스템의 나머지 부분을 변경하지 않고도 UI를 쉽게 변경할 수 있다.
- 데이터베이스 독립성: 업무규칙은 데이터베이스에 결합되지 않는다.
- 모든 외부 에이전시에 대한 독립성: 실제로 업무 규칙은 외부 세계와의 인터페이스에 대해 전혀 알지 못한다.

의존성은 반드시 안쪽으로, 고수준의 정책을 향해야 한다.
내부의 원에 속한 요소는 외부의 원에 속한 어떤 것도 알지못한다.
내부의 원에 속한 코드는 외부의 원에 선언된 어떤 것에 대해서도 그 이름을 언급해서는 안된다.
외부의 원에 선언된 데이터 형식도 내부의 원에서 절대로 사용해서는 안 된다.
외부 원에 위치한 어떤 것도 내부의 원에 영향을 주지 않기를 바란다.


#### 엔티티

엔티티는 전사적인 핵심 업무 규칙을 캡슐화한다.
매서드를 가지는 객체이거나 일련의 데이터 구조와 함수의 집합일 수도 있다.

#### 유스케이스

소프트웨어는 애플리케이션에 특화된 업무 규칙을 포함한다.
유스케이스는 엔티티로 들어오고 나가는 데이터 흐름을 조정함
이 계층에서 발생한 변경이 엔티티에 영향을 줘서는 안된다.
데이터베이스, UI, 여타 공통 프레임워크와 같은 외부 요소에서 발생한 변경이 이 계층에 영향을 줘서도 안 된다.
운영관점에서 애플리케이션이 변경된다면 유스케이스가 영향을 받는다.

#### 인터페이스 어댑터

일련의 어댑터들로 구성된다.
어댑터는 데이터를 유스케이스와 엔티티에게 가장 편리한 형식에서 데이터베이스나 웹 같은 외부 에이전ㄴ시에게 가장 편리한 형식으로 변환된다.
이 원안에 속한 어떤 코드도 데이터베이스에 대해 조금도 알아서는 안 된다.
이 계층에서도 데이터베이스를 담당하는 부분으로 제한되어야 한다.
데이터를 외부 서비스와 같은 외부적인 형식에서 유스케이스나 엔티티에서 사용되는 내부적인 형식으로 변환하는 또 다른 어댑터가 필요하다.

#### 프레임워크와 드라이버

모든 세부사항이 위치하는곳이다.
웹, 데이터베이스 등등이 세부사항이다.




가장 바깥쪽 원은 저수준의 구체적인 세부사항으로 구성된다.
안쪽으로 이동할수록 소프트웨어는 점점 추상화되고 더 높은 수준의 정책들을 캡슐화한다.

제어흐름과 의존성의 방향이 명백히 반대여야 한다.
의존성 역전 원칙(동적 다향성)을 사용하여 해결한다.
